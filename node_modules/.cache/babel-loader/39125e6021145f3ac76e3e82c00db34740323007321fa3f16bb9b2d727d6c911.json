{"ast":null,"code":"var _jsxFileName = \"/home/johnmichael/Work/juanzhingre.com/src/components/Desktop/Desktop.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback, useEffect } from 'react';\nimport styled from 'styled-components';\nimport Icon from '../Icon/Icon';\nimport Window from '../Window/Window';\nimport MusicInterface from '../Window/MusicInterface';\nimport PhotoGallery from '../Window/PhotoGallery';\nimport FullImageViewer from '../Window/FullImageViewer';\nimport FolderContent from '../Window/FolderContent';\nimport DemosPlayer from '../Window/DemosPlayer';\nimport CreditsWindow from '../Window/CreditsWindow';\nimport AppointmentMaker from '../Window/AppointmentMaker';\nimport { photoData } from '../../data/photos';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DesktopContainer = styled.div`\n  width: 100vw;\n  height: 100vh;\n  background-image: url('/background.png');\n  background-size: cover;\n  background-position: center;\n  background-repeat: no-repeat;\n  position: relative;\n  overflow: hidden;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n  \n  @media (max-width: 768px) {\n    overflow-x: hidden;\n    overflow-y: auto;\n  }\n`;\n_c = DesktopContainer;\nconst Taskbar = styled.div`\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 40px;\n  background: linear-gradient(to bottom, #c0c0c0 0%, #a0a0a0 100%);\n  border-top: 2px solid #ffffff;\n  border-left: 2px solid #ffffff;\n  border-right: 2px solid #808080;\n  border-bottom: 2px solid #808080;\n  display: flex;\n  align-items: center;\n  padding: 0 4px;\n  z-index: 1000;\n  box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.2);\n  \n  @media (max-width: 768px) {\n    height: 50px;\n    padding: 0 8px;\n  }\n`;\n_c2 = Taskbar;\nconst StartButton = styled.button`\n  width: 80px;\n  height: 32px;\n  background: linear-gradient(to bottom, #c0c0c0 0%, #a0a0a0 100%);\n  border: 2px solid #ffffff;\n  border-right: 2px solid #808080;\n  border-bottom: 2px solid #808080;\n  border-left: 2px solid #ffffff;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 8px;\n  margin-right: 8px;\n  box-shadow: inset 1px 1px 0px rgba(255, 255, 255, 0.3);\n  \n  @media (max-width: 768px) {\n    width: 90px;\n    height: 40px;\n    padding: 0 12px;\n    margin-right: 12px;\n    font-size: 14px;\n  }\n  \n  &:active {\n    background: linear-gradient(to bottom, #a0a0a0 0%, #c0c0c0 100%);\n    border: 2px solid #808080;\n    border-right: 2px solid #ffffff;\n    border-bottom: 2px solid #ffffff;\n    border-left: 2px solid #808080;\n    box-shadow: inset 1px 1px 0px rgba(0, 0, 0, 0.3);\n  }\n`;\n_c3 = StartButton;\nconst TaskbarItems = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  flex: 1;\n  \n  @media (max-width: 768px) {\n    gap: 8px;\n    overflow-x: auto;\n    scrollbar-width: none;\n    -ms-overflow-style: none;\n    \n    &::-webkit-scrollbar {\n      display: none;\n    }\n  }\n`;\n_c4 = TaskbarItems;\nconst TaskbarItem = styled.div`\n  height: 28px;\n  min-width: 140px;\n  background: ${props => props.isActive ? 'linear-gradient(to bottom, #ffffff 0%, #e0e0e0 100%)' : 'linear-gradient(to bottom, #e0e0e0 0%, #c0c0c0 100%)'};\n  border: 2px solid #ffffff;\n  border-right: 2px solid #808080;\n  border-bottom: 2px solid #808080;\n  border-left: 2px solid #ffffff;\n  display: flex;\n  align-items: center;\n  padding: 0 8px;\n  cursor: pointer;\n  font-size: 11px;\n  color: #000;\n  box-shadow: ${props => props.isActive ? 'inset 1px 1px 0px rgba(0, 0, 0, 0.1)' : 'inset 1px 1px 0px rgba(255, 255, 255, 0.3)'};\n  \n  @media (max-width: 768px) {\n    height: 40px;\n    min-width: 120px;\n    padding: 0 12px;\n    font-size: 12px;\n    flex-shrink: 0;\n  }\n  \n  &:hover {\n    background: linear-gradient(to bottom, #f0f0f0 0%, #d0d0d0 100%);\n  }\n`;\n_c5 = TaskbarItem;\nconst TaskbarIcon = styled.img`\n  width: 16px;\n  height: 16px;\n  margin-right: 6px;\n  image-rendering: pixelated;\n`;\n_c6 = TaskbarIcon;\nconst StartMenu = styled.div`\n  position: fixed;\n  bottom: 40px;\n  left: 4px;\n  width: 200px;\n  background: #c0c0c0;\n  border: 2px solid #ffffff;\n  border-right: 2px solid #808080;\n  border-bottom: 2px solid #808080;\n  border-left: 2px solid #ffffff;\n  box-shadow: 4px 4px 8px rgba(0, 0, 0, 0.3);\n  z-index: 1001;\n  display: ${props => props.isOpen ? 'flex' : 'none'};\n  visibility: ${props => props.isOpen ? 'visible' : 'hidden'};\n`;\n_c7 = StartMenu;\nconst StartMenuSidebar = styled.div`\n  width: 40px;\n  background: #000080;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  writing-mode: vertical-rl;\n  text-orientation: mixed;\n  color: white;\n  font-size: 12px;\n  font-weight: bold;\n  letter-spacing: 1px;\n`;\n_c8 = StartMenuSidebar;\nconst StartMenuContent = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n`;\n_c9 = StartMenuContent;\nconst StartMenuItem = styled.div`\n  padding: 8px 16px;\n  cursor: pointer;\n  font-size: 12px;\n  color: #000;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  \n  &:hover {\n    background: #000080;\n    color: white;\n  }\n`;\n_c0 = StartMenuItem;\nconst MenuItemIcon = styled.img`\n  width: 16px;\n  height: 16px;\n  flex-shrink: 0;\n`;\n_c1 = MenuItemIcon;\nconst Clock = styled.div`\n  height: 28px;\n  min-width: 80px;\n  background: linear-gradient(to bottom, #e0e0e0 0%, #c0c0c0 100%);\n  border: 2px solid #ffffff;\n  border-right: 2px solid #808080;\n  border-bottom: 2px solid #808080;\n  border-left: 2px solid #ffffff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 11px;\n  color: #000;\n  font-weight: bold;\n  box-shadow: inset 1px 1px 0px rgba(255, 255, 255, 0.3);\n  margin-left: auto;\n`;\n_c10 = Clock;\nconst BackgroundOverlay = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.2);\n  pointer-events: none;\n`;\n_c11 = BackgroundOverlay;\nconst DesktopTitle = styled.div`\n  position: absolute;\n  top: 50px;\n  left: 50%;\n  transform: translateX(-50%);\n  font-size: 48px;\n  font-weight: bold;\n  color: white;\n  text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.8);\n  z-index: 1;\n  pointer-events: none;\n  \n  @media (max-width: 768px) {\n    font-size: 32px;\n    top: 20px;\n    padding: 0 20px;\n    text-align: center;\n    word-wrap: break-word;\n  }\n`;\nconst Desktop = () => {\n  _s();\n  const [isStartMenuOpen, setIsStartMenuOpen] = useState(false);\n  const [currentTime, setCurrentTime] = useState('');\n  const [desktopState, setDesktopState] = useState({\n    icons: [{\n      id: 'music',\n      name: 'music',\n      type: 'folder',\n      position: {\n        x: 30,\n        y: 100\n      },\n      icon: '/icons/music.png',\n      color: '#007AFF'\n    }, {\n      id: 'the-archive',\n      name: 'ishv4ra',\n      type: 'folder',\n      position: {\n        x: 30,\n        y: 200\n      },\n      icon: '/icons/ishv4ra.png',\n      color: '#8B4513'\n    }, {\n      id: 'demos',\n      name: 'demos',\n      type: 'folder',\n      position: {\n        x: 30,\n        y: 300\n      },\n      icon: '/icons/demos.png',\n      color: '#9C27B0'\n    }, {\n      id: 'sculpter',\n      name: 'playday cuts',\n      type: 'folder',\n      position: {\n        x: 30,\n        y: 400\n      },\n      icon: '/icons/playdaycuts.png',\n      color: '#FF6B6B'\n    }],\n    windows: [],\n    activeWindowId: null,\n    background: 'dog-pattern'\n  });\n\n  // Effect to reposition icons for mobile on mount and resize\n  useEffect(() => {\n    const handleResize = () => {\n      if (window.innerWidth <= 768) {\n        // Reposition icons horizontally at the top for mobile\n        setDesktopState(prev => ({\n          ...prev,\n          icons: prev.icons.map((icon, index) => ({\n            ...icon,\n            position: {\n              x: 20 + index * 100,\n              // Space icons horizontally\n              y: 20 // Position at the top\n            }\n          }))\n        }));\n      } else {\n        // Reset to original vertical layout for desktop\n        setDesktopState(prev => ({\n          ...prev,\n          icons: [{\n            ...prev.icons[0],\n            position: {\n              x: 30,\n              y: 100\n            }\n          }, {\n            ...prev.icons[1],\n            position: {\n              x: 30,\n              y: 200\n            }\n          }, {\n            ...prev.icons[2],\n            position: {\n              x: 30,\n              y: 300\n            }\n          }, {\n            ...prev.icons[3],\n            position: {\n              x: 30,\n              y: 400\n            }\n          }]\n        }));\n      }\n    };\n\n    // Set initial position\n    handleResize();\n\n    // Listen for resize events\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n  const handleIconMove = useCallback((iconId, x, y) => {\n    setDesktopState(prev => {\n      const iconIndex = prev.icons.findIndex(icon => icon.id === iconId);\n      if (iconIndex === -1) return prev;\n      const isMobile = window.innerWidth <= 768;\n      let constrainedX = x;\n      let constrainedY = y;\n      if (isMobile) {\n        // On mobile, constrain icons to stay within screen bounds\n        const iconWidth = 100; // Approximate icon width\n        const iconHeight = 100; // Approximate icon height\n        const taskbarHeight = 50;\n        constrainedX = Math.max(0, Math.min(x, window.innerWidth - iconWidth));\n        constrainedY = Math.max(0, Math.min(y, window.innerHeight - iconHeight - taskbarHeight));\n      }\n      const newIcons = [...prev.icons];\n      newIcons[iconIndex] = {\n        ...newIcons[iconIndex],\n        position: {\n          x: constrainedX,\n          y: constrainedY\n        }\n      };\n      return {\n        ...prev,\n        icons: newIcons\n      };\n    });\n  }, []);\n  const handleOpenCollection = useCallback(collection => {\n    // Find the first photo in the collection\n    const firstPhoto = photoData.find(photo => photo.collection === collection.id);\n    if (firstPhoto) {\n      const newWindow = {\n        id: `photo-${firstPhoto.id}`,\n        title: `${firstPhoto.name}`,\n        type: 'app',\n        position: {\n          x: 200,\n          y: 200\n        },\n        size: {\n          width: 900,\n          height: 700\n        },\n        isMinimized: false,\n        isMaximized: false,\n        isOpen: true,\n        zIndex: Date.now(),\n        content: /*#__PURE__*/_jsxDEV(FullImageViewer, {\n          photo: firstPhoto,\n          onClose: () => handleWindowClose(`photo-${firstPhoto.id}`),\n          onNavigate: direction => handlePhotoNavigate(firstPhoto, direction)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 18\n        }, this)\n      };\n      setDesktopState(prev => ({\n        ...prev,\n        windows: [...prev.windows, newWindow],\n        activeWindowId: newWindow.id\n      }));\n    }\n  }, []);\n  const handleOpenPhoto = useCallback(photo => {\n    const newWindow = {\n      id: `photo-${photo.id}`,\n      title: `${photo.name}`,\n      type: 'app',\n      position: {\n        x: 200,\n        y: 200\n      },\n      size: {\n        width: 900,\n        height: 700\n      },\n      isMinimized: false,\n      isMaximized: false,\n      isOpen: true,\n      zIndex: Date.now(),\n      content: /*#__PURE__*/_jsxDEV(FullImageViewer, {\n        photo: photo,\n        onClose: () => handleWindowClose(`photo-${photo.id}`),\n        onNavigate: direction => handlePhotoNavigate(photo, direction)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 16\n      }, this)\n    };\n    setDesktopState(prev => ({\n      ...prev,\n      windows: [...prev.windows, newWindow],\n      activeWindowId: newWindow.id\n    }));\n  }, []);\n  const handleOpenCredits = useCallback(() => {\n    const newWindow = {\n      id: 'credits-window',\n      title: 'Origins',\n      type: 'app',\n      position: {\n        x: 300,\n        y: 200\n      },\n      size: {\n        width: 400,\n        height: 300\n      },\n      isMinimized: false,\n      isMaximized: false,\n      isOpen: true,\n      zIndex: Date.now(),\n      content: /*#__PURE__*/_jsxDEV(CreditsWindow, {\n        onClose: () => handleWindowClose('credits-window')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 16\n      }, this)\n    };\n    setDesktopState(prev => ({\n      ...prev,\n      windows: [...prev.windows, newWindow],\n      activeWindowId: newWindow.id\n    }));\n  }, []);\n  const handlePhotoNavigate = useCallback((currentPhoto, direction) => {\n    // Find the next/previous photo in the same collection\n    const photos = photoData.filter(p => p.collection === currentPhoto.collection);\n    const currentIndex = photos.findIndex(p => p.id === currentPhoto.id);\n    let newIndex = direction === 'next' ? currentIndex + 1 : currentIndex - 1;\n\n    // Wrap around\n    if (newIndex < 0) newIndex = photos.length - 1;\n    if (newIndex >= photos.length) newIndex = 0;\n    const newPhoto = photos[newIndex];\n\n    // Update the current photo window with the new photo\n    setDesktopState(prev => {\n      const newWindows = prev.windows.map(w => {\n        if (w.id === `photo-${currentPhoto.id}`) {\n          return {\n            ...w,\n            id: `photo-${newPhoto.id}`,\n            // Update the window ID to match the new photo\n            title: `${newPhoto.name}`,\n            content: /*#__PURE__*/_jsxDEV(FullImageViewer, {\n              photo: newPhoto,\n              onClose: () => handleWindowClose(`photo-${newPhoto.id}`),\n              onNavigate: dir => handlePhotoNavigate(newPhoto, dir)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 22\n            }, this)\n          };\n        }\n        return w;\n      });\n      return {\n        ...prev,\n        windows: newWindows\n      };\n    });\n  }, []);\n  const handleIconClick = useCallback(icon => {\n    // Check if app is already running\n    const existingWindow = desktopState.windows.find(window => window.id.startsWith(`${icon.id}-`) || window.id === `window-${icon.id}`);\n    if (existingWindow) {\n      // If app is already running, bring it to focus and unminimize if needed\n      if (existingWindow.isMinimized) {\n        setDesktopState(prev => ({\n          ...prev,\n          windows: prev.windows.map(w => w.id === existingWindow.id ? {\n            ...w,\n            isMinimized: false\n          } : w),\n          activeWindowId: existingWindow.id\n        }));\n      } else {\n        // Just bring to focus\n        setDesktopState(prev => ({\n          ...prev,\n          activeWindowId: existingWindow.id,\n          windows: prev.windows.map(w => ({\n            ...w,\n            zIndex: w.id === existingWindow.id ? Date.now() : w.zIndex\n          }))\n        }));\n      }\n      return;\n    }\n    if (icon.id === 'music') {\n      // Open music window\n      const isMobile = window.innerWidth <= 768;\n      const newWindow = {\n        id: `music-${Date.now()}`,\n        title: 'Music',\n        type: 'app',\n        position: isMobile ? {\n          x: 10,\n          y: 10\n        } : {\n          x: 150,\n          y: 150\n        },\n        size: isMobile ? {\n          width: window.innerWidth - 20,\n          height: window.innerHeight - 100\n        } : {\n          width: 600,\n          height: 500\n        },\n        isMinimized: false,\n        isMaximized: false,\n        isOpen: true,\n        zIndex: Date.now(),\n        content: /*#__PURE__*/_jsxDEV(MusicInterface, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 18\n        }, this)\n      };\n      setDesktopState(prev => ({\n        ...prev,\n        windows: [...prev.windows, newWindow],\n        activeWindowId: newWindow.id\n      }));\n    } else if (icon.id === 'the-archive') {\n      // Open photo gallery for the Archive icon\n      const isMobile = window.innerWidth <= 768;\n      const newWindow = {\n        id: `window-${icon.id}`,\n        title: 'ishv4ra',\n        type: 'app',\n        position: isMobile ? {\n          x: 10,\n          y: 10\n        } : {\n          x: 100,\n          y: 100\n        },\n        size: isMobile ? {\n          width: window.innerWidth - 20,\n          height: window.innerHeight - 100\n        } : {\n          width: 1000,\n          height: 700\n        },\n        isMinimized: false,\n        isMaximized: false,\n        isOpen: true,\n        zIndex: Date.now(),\n        content: /*#__PURE__*/_jsxDEV(PhotoGallery, {\n          onOpenCollection: handleOpenCollection\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 18\n        }, this)\n      };\n      setDesktopState(prev => ({\n        ...prev,\n        windows: [...prev.windows, newWindow],\n        activeWindowId: newWindow.id\n      }));\n    } else if (icon.id === 'demos') {\n      // Open demos player\n      const isMobile = window.innerWidth <= 768;\n      const newWindow = {\n        id: `window-${icon.id}`,\n        title: icon.name,\n        type: 'app',\n        position: isMobile ? {\n          x: 10,\n          y: 10\n        } : {\n          x: 100,\n          y: 100\n        },\n        size: isMobile ? {\n          width: window.innerWidth - 20,\n          height: window.innerHeight - 100\n        } : {\n          width: 800,\n          height: 500\n        },\n        isMinimized: false,\n        isMaximized: false,\n        isOpen: true,\n        zIndex: Date.now(),\n        content: /*#__PURE__*/_jsxDEV(DemosPlayer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 566,\n          columnNumber: 18\n        }, this)\n      };\n      setDesktopState(prev => ({\n        ...prev,\n        windows: [...prev.windows, newWindow],\n        activeWindowId: newWindow.id\n      }));\n    } else if (icon.id === 'sculpter') {\n      // Open appointment maker for playday cuts\n      const isMobile = window.innerWidth <= 768;\n      const newWindow = {\n        id: `window-${icon.id}`,\n        title: icon.name,\n        type: 'app',\n        position: isMobile ? {\n          x: 10,\n          y: 10\n        } : {\n          x: 200,\n          y: 150\n        },\n        size: isMobile ? {\n          width: window.innerWidth - 20,\n          height: window.innerHeight - 100\n        } : {\n          width: 500,\n          height: 600\n        },\n        isMinimized: false,\n        isMaximized: false,\n        isOpen: true,\n        zIndex: Date.now(),\n        content: /*#__PURE__*/_jsxDEV(AppointmentMaker, {\n          onClose: () => handleWindowClose(`window-${icon.id}`)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 587,\n          columnNumber: 18\n        }, this)\n      };\n      setDesktopState(prev => ({\n        ...prev,\n        windows: [...prev.windows, newWindow],\n        activeWindowId: newWindow.id\n      }));\n    } else if (icon.type === 'folder') {\n      // Open folder window with custom content\n      const newWindow = {\n        id: `window-${icon.id}`,\n        title: icon.name,\n        type: 'folder',\n        position: {\n          x: 100,\n          y: 100\n        },\n        size: {\n          width: 600,\n          height: 400\n        },\n        isMinimized: false,\n        isMaximized: false,\n        isOpen: true,\n        zIndex: Date.now(),\n        content: /*#__PURE__*/_jsxDEV(FolderContent, {\n          folderId: icon.id,\n          folderName: icon.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 607,\n          columnNumber: 18\n        }, this)\n      };\n      setDesktopState(prev => ({\n        ...prev,\n        windows: [...prev.windows, newWindow],\n        activeWindowId: newWindow.id\n      }));\n    } else if (icon.type === 'app') {\n      // Open app window\n      const newWindow = {\n        id: `window-${icon.id}`,\n        title: icon.name,\n        type: 'app',\n        position: {\n          x: 150,\n          y: 150\n        },\n        size: {\n          width: 800,\n          height: 600\n        },\n        isMinimized: false,\n        isMaximized: false,\n        isOpen: true,\n        zIndex: Date.now(),\n        content: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Welcome to \", icon.name, \"!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 627,\n          columnNumber: 18\n        }, this)\n      };\n      setDesktopState(prev => ({\n        ...prev,\n        windows: [...prev.windows, newWindow],\n        activeWindowId: newWindow.id\n      }));\n    }\n  }, [desktopState.windows]);\n  const handleWindowClose = useCallback(windowId => {\n    setDesktopState(prev => ({\n      ...prev,\n      windows: prev.windows.filter(w => w.id !== windowId),\n      activeWindowId: prev.activeWindowId === windowId ? null : prev.activeWindowId\n    }));\n  }, []);\n  const handleWindowMinimize = useCallback(windowId => {\n    setDesktopState(prev => ({\n      ...prev,\n      windows: prev.windows.map(w => w.id === windowId ? {\n        ...w,\n        isMinimized: !w.isMinimized\n      } : w)\n    }));\n  }, []);\n  const handleWindowMaximize = useCallback(windowId => {\n    setDesktopState(prev => ({\n      ...prev,\n      windows: prev.windows.map(w => w.id === windowId ? {\n        ...w,\n        isMaximized: !w.isMaximized\n      } : w)\n    }));\n  }, []);\n  const handleWindowMove = useCallback((windowId, x, y) => {\n    // Use functional update to avoid stale state issues\n    setDesktopState(prev => {\n      const windowIndex = prev.windows.findIndex(w => w.id === windowId);\n      if (windowIndex === -1) return prev;\n      const newWindows = [...prev.windows];\n      newWindows[windowIndex] = {\n        ...newWindows[windowIndex],\n        position: {\n          x,\n          y\n        }\n      };\n      return {\n        ...prev,\n        windows: newWindows\n      };\n    });\n  }, []);\n  const handleWindowResize = useCallback((windowId, width, height) => {\n    setDesktopState(prev => ({\n      ...prev,\n      windows: prev.windows.map(w => w.id === windowId ? {\n        ...w,\n        size: {\n          width,\n          height\n        }\n      } : w)\n    }));\n  }, []);\n  const handleDesktopClick = useCallback(e => {\n    // Don't close menu if clicking on start button or start menu\n    if (e.target instanceof HTMLElement) {\n      if (e.target.closest('[data-start-button]') || e.target.closest('[data-start-menu]')) {\n        return;\n      }\n    }\n    setIsStartMenuOpen(false);\n  }, []);\n\n  // Update time every second\n  useEffect(() => {\n    const updateTime = () => {\n      const now = new Date();\n      const formatter = new Intl.DateTimeFormat('en-US', {\n        timeZone: 'America/Denver',\n        hour: '2-digit',\n        minute: '2-digit',\n        hour12: false\n      });\n      const mountainTime = formatter.format(now);\n      setCurrentTime(`${mountainTime} MST`);\n    };\n    updateTime(); // Update immediately\n    const interval = setInterval(updateTime, 1000); // Update every second\n\n    return () => clearInterval(interval);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(DesktopContainer, {\n    onClick: handleDesktopClick,\n    children: /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(BackgroundOverlay, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 726,\n        columnNumber: 9\n      }, this), desktopState.icons.map(icon => /*#__PURE__*/_jsxDEV(Icon, {\n        icon: icon,\n        onClick: () => handleIconClick(icon),\n        onMove: handleIconMove,\n        isSelected: false\n      }, icon.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 730,\n        columnNumber: 9\n      }, this)), desktopState.windows.map(window => /*#__PURE__*/_jsxDEV(Window, {\n        window: window,\n        onClose: handleWindowClose,\n        onMinimize: handleWindowMinimize,\n        onMaximize: handleWindowMaximize,\n        onMove: handleWindowMove,\n        onResize: handleWindowResize,\n        onFocus: windowId => {\n          setDesktopState(prev => ({\n            ...prev,\n            activeWindowId: windowId,\n            windows: prev.windows.map(w => ({\n              ...w,\n              zIndex: w.id === windowId ? Date.now() : w.zIndex\n            }))\n          }));\n        },\n        children: window.content\n      }, window.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 741,\n        columnNumber: 9\n      }, this)), /*#__PURE__*/_jsxDEV(Taskbar, {\n        children: [/*#__PURE__*/_jsxDEV(StartButton, {\n          \"data-start-button\": true,\n          onClick: () => {\n            console.log('Start button clicked, current state:', isStartMenuOpen);\n            setIsStartMenuOpen(!isStartMenuOpen);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/icons/startmenu.png\",\n            alt: \"Start\",\n            style: {\n              width: '16px',\n              height: '16px',\n              imageRendering: 'pixelated'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 773,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: 'white',\n              fontWeight: 'bold',\n              fontSize: '12px',\n              textShadow: '1px 1px 1px rgba(0, 0, 0, 0.5)'\n            },\n            children: \"Start\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 782,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 766,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(TaskbarItems, {\n          children: desktopState.windows.filter(window => !window.isMinimized).map(window => {\n            // Get the icon for this window type\n            let iconSrc = '';\n            if (window.id.startsWith('music-')) {\n              iconSrc = '/icons/music.png';\n            } else if (window.id === 'window-the-archive') {\n              iconSrc = '/icons/ishv4ra.png';\n            } else if (window.id === 'window-demos') {\n              iconSrc = '/icons/demos.png';\n            } else if (window.id === 'window-sculpter') {\n              iconSrc = '/icons/playdaycuts.png';\n            }\n            return /*#__PURE__*/_jsxDEV(TaskbarItem, {\n              isActive: desktopState.activeWindowId === window.id,\n              onClick: () => {\n                setDesktopState(prev => ({\n                  ...prev,\n                  activeWindowId: window.id,\n                  windows: prev.windows.map(w => {\n                    if (w.id === window.id) {\n                      return {\n                        ...w,\n                        zIndex: Date.now(),\n                        isMinimized: false // Ensure window is not minimized\n                      };\n                    }\n                    return w;\n                  })\n                }));\n              },\n              children: [iconSrc && /*#__PURE__*/_jsxDEV(TaskbarIcon, {\n                src: iconSrc,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 829,\n                columnNumber: 31\n              }, this), window.title]\n            }, window.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 809,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 792,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Clock, {\n          children: currentTime\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 836,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 765,\n        columnNumber: 7\n      }, this), console.log('Rendering StartMenu with isOpen:', isStartMenuOpen), /*#__PURE__*/_jsxDEV(StartMenu, {\n        isOpen: isStartMenuOpen,\n        \"data-start-menu\": true,\n        children: [/*#__PURE__*/_jsxDEV(StartMenuSidebar, {\n          children: \"start menu\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 844,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(StartMenuContent, {\n          children: [/*#__PURE__*/_jsxDEV(StartMenuItem, {\n            onClick: () => {\n              window.open('https://www.instagram.com/juan.zhingre/', '_blank');\n              setIsStartMenuOpen(false);\n            },\n            children: [/*#__PURE__*/_jsxDEV(MenuItemIcon, {\n              src: \"/icons/instagram.png\",\n              alt: \"Instagram\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 854,\n              columnNumber: 13\n            }, this), \"juan.zhingre\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 848,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(StartMenuItem, {\n            onClick: () => {\n              window.open('https://www.instagram.com/ishv4ra/', '_blank');\n              setIsStartMenuOpen(false);\n            },\n            children: [/*#__PURE__*/_jsxDEV(MenuItemIcon, {\n              src: \"/icons/instagram.png\",\n              alt: \"Instagram\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 863,\n              columnNumber: 13\n            }, this), \"ishv4ra\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 857,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              height: '1px',\n              background: '#808080',\n              margin: '2px 0'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 866,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(StartMenuItem, {\n            onClick: () => {\n              handleOpenCredits();\n              setIsStartMenuOpen(false);\n            },\n            children: \"Origins\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 867,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              height: '1px',\n              background: '#808080',\n              margin: '2px 0'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 873,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(StartMenuItem, {\n            onClick: () => {\n              setIsStartMenuOpen(false);\n              window.close();\n            },\n            children: [/*#__PURE__*/_jsxDEV(MenuItemIcon, {\n              src: \"/icons/startmenu.png\",\n              alt: \"Shutdown\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 878,\n              columnNumber: 13\n            }, this), \"Shut Down...\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 874,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 847,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 843,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 724,\n    columnNumber: 5\n  }, this);\n};\n_s(Desktop, \"Pbj52G6j9929/A9iX420UR66pbM=\");\n_c12 = Desktop;\nexport default Desktop;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12;\n$RefreshReg$(_c, \"DesktopContainer\");\n$RefreshReg$(_c2, \"Taskbar\");\n$RefreshReg$(_c3, \"StartButton\");\n$RefreshReg$(_c4, \"TaskbarItems\");\n$RefreshReg$(_c5, \"TaskbarItem\");\n$RefreshReg$(_c6, \"TaskbarIcon\");\n$RefreshReg$(_c7, \"StartMenu\");\n$RefreshReg$(_c8, \"StartMenuSidebar\");\n$RefreshReg$(_c9, \"StartMenuContent\");\n$RefreshReg$(_c0, \"StartMenuItem\");\n$RefreshReg$(_c1, \"MenuItemIcon\");\n$RefreshReg$(_c10, \"Clock\");\n$RefreshReg$(_c11, \"BackgroundOverlay\");\n$RefreshReg$(_c12, \"Desktop\");","map":{"version":3,"names":["React","useState","useCallback","useEffect","styled","Icon","Window","MusicInterface","PhotoGallery","FullImageViewer","FolderContent","DemosPlayer","CreditsWindow","AppointmentMaker","photoData","jsxDEV","_jsxDEV","Fragment","_Fragment","DesktopContainer","div","_c","Taskbar","_c2","StartButton","button","_c3","TaskbarItems","_c4","TaskbarItem","props","isActive","_c5","TaskbarIcon","img","_c6","StartMenu","isOpen","_c7","StartMenuSidebar","_c8","StartMenuContent","_c9","StartMenuItem","_c0","MenuItemIcon","_c1","Clock","_c10","BackgroundOverlay","_c11","DesktopTitle","Desktop","_s","isStartMenuOpen","setIsStartMenuOpen","currentTime","setCurrentTime","desktopState","setDesktopState","icons","id","name","type","position","x","y","icon","color","windows","activeWindowId","background","handleResize","window","innerWidth","prev","map","index","addEventListener","removeEventListener","handleIconMove","iconId","iconIndex","findIndex","isMobile","constrainedX","constrainedY","iconWidth","iconHeight","taskbarHeight","Math","max","min","innerHeight","newIcons","handleOpenCollection","collection","firstPhoto","find","photo","newWindow","title","size","width","height","isMinimized","isMaximized","zIndex","Date","now","content","onClose","handleWindowClose","onNavigate","direction","handlePhotoNavigate","fileName","_jsxFileName","lineNumber","columnNumber","handleOpenPhoto","handleOpenCredits","currentPhoto","photos","filter","p","currentIndex","newIndex","length","newPhoto","newWindows","w","dir","handleIconClick","existingWindow","startsWith","onOpenCollection","folderId","folderName","children","windowId","handleWindowMinimize","handleWindowMaximize","handleWindowMove","windowIndex","handleWindowResize","handleDesktopClick","e","target","HTMLElement","closest","updateTime","formatter","Intl","DateTimeFormat","timeZone","hour","minute","hour12","mountainTime","format","interval","setInterval","clearInterval","onClick","onMove","isSelected","onMinimize","onMaximize","onResize","onFocus","console","log","src","alt","style","imageRendering","fontWeight","fontSize","textShadow","iconSrc","open","margin","close","_c12","$RefreshReg$"],"sources":["/home/johnmichael/Work/juanzhingre.com/src/components/Desktop/Desktop.tsx"],"sourcesContent":["import React, { useState, useCallback, useEffect } from 'react';\nimport styled from 'styled-components';\nimport Icon from '../Icon/Icon';\nimport Window from '../Window/Window';\nimport MusicInterface from '../Window/MusicInterface';\nimport PhotoGallery from '../Window/PhotoGallery';\nimport CollectionViewer from '../Window/CollectionViewer';\nimport FullImageViewer from '../Window/FullImageViewer';\nimport FolderContent from '../Window/FolderContent';\nimport DemosPlayer from '../Window/DemosPlayer';\nimport CreditsWindow from '../Window/CreditsWindow';\nimport AppointmentMaker from '../Window/AppointmentMaker';\nimport { Icon as IconType, Window as WindowType, DesktopState } from '../../types/desktop';\nimport { photoData } from '../../data/photos';\n\nconst DesktopContainer = styled.div`\n  width: 100vw;\n  height: 100vh;\n  background-image: url('/background.png');\n  background-size: cover;\n  background-position: center;\n  background-repeat: no-repeat;\n  position: relative;\n  overflow: hidden;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n  \n  @media (max-width: 768px) {\n    overflow-x: hidden;\n    overflow-y: auto;\n  }\n`;\n\nconst Taskbar = styled.div`\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 40px;\n  background: linear-gradient(to bottom, #c0c0c0 0%, #a0a0a0 100%);\n  border-top: 2px solid #ffffff;\n  border-left: 2px solid #ffffff;\n  border-right: 2px solid #808080;\n  border-bottom: 2px solid #808080;\n  display: flex;\n  align-items: center;\n  padding: 0 4px;\n  z-index: 1000;\n  box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.2);\n  \n  @media (max-width: 768px) {\n    height: 50px;\n    padding: 0 8px;\n  }\n`;\n\nconst StartButton = styled.button`\n  width: 80px;\n  height: 32px;\n  background: linear-gradient(to bottom, #c0c0c0 0%, #a0a0a0 100%);\n  border: 2px solid #ffffff;\n  border-right: 2px solid #808080;\n  border-bottom: 2px solid #808080;\n  border-left: 2px solid #ffffff;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 8px;\n  margin-right: 8px;\n  box-shadow: inset 1px 1px 0px rgba(255, 255, 255, 0.3);\n  \n  @media (max-width: 768px) {\n    width: 90px;\n    height: 40px;\n    padding: 0 12px;\n    margin-right: 12px;\n    font-size: 14px;\n  }\n  \n  &:active {\n    background: linear-gradient(to bottom, #a0a0a0 0%, #c0c0c0 100%);\n    border: 2px solid #808080;\n    border-right: 2px solid #ffffff;\n    border-bottom: 2px solid #ffffff;\n    border-left: 2px solid #808080;\n    box-shadow: inset 1px 1px 0px rgba(0, 0, 0, 0.3);\n  }\n`;\n\nconst TaskbarItems = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  flex: 1;\n  \n  @media (max-width: 768px) {\n    gap: 8px;\n    overflow-x: auto;\n    scrollbar-width: none;\n    -ms-overflow-style: none;\n    \n    &::-webkit-scrollbar {\n      display: none;\n    }\n  }\n`;\n\nconst TaskbarItem = styled.div<{ isActive: boolean }>`\n  height: 28px;\n  min-width: 140px;\n  background: ${props => props.isActive \n    ? 'linear-gradient(to bottom, #ffffff 0%, #e0e0e0 100%)' \n    : 'linear-gradient(to bottom, #e0e0e0 0%, #c0c0c0 100%)'\n  };\n  border: 2px solid #ffffff;\n  border-right: 2px solid #808080;\n  border-bottom: 2px solid #808080;\n  border-left: 2px solid #ffffff;\n  display: flex;\n  align-items: center;\n  padding: 0 8px;\n  cursor: pointer;\n  font-size: 11px;\n  color: #000;\n  box-shadow: ${props => props.isActive \n    ? 'inset 1px 1px 0px rgba(0, 0, 0, 0.1)' \n    : 'inset 1px 1px 0px rgba(255, 255, 255, 0.3)'\n  };\n  \n  @media (max-width: 768px) {\n    height: 40px;\n    min-width: 120px;\n    padding: 0 12px;\n    font-size: 12px;\n    flex-shrink: 0;\n  }\n  \n  &:hover {\n    background: linear-gradient(to bottom, #f0f0f0 0%, #d0d0d0 100%);\n  }\n`;\n\nconst TaskbarIcon = styled.img`\n  width: 16px;\n  height: 16px;\n  margin-right: 6px;\n  image-rendering: pixelated;\n`;\n\nconst StartMenu = styled.div<{ isOpen: boolean }>`\n  position: fixed;\n  bottom: 40px;\n  left: 4px;\n  width: 200px;\n  background: #c0c0c0;\n  border: 2px solid #ffffff;\n  border-right: 2px solid #808080;\n  border-bottom: 2px solid #808080;\n  border-left: 2px solid #ffffff;\n  box-shadow: 4px 4px 8px rgba(0, 0, 0, 0.3);\n  z-index: 1001;\n  display: ${props => props.isOpen ? 'flex' : 'none'};\n  visibility: ${props => props.isOpen ? 'visible' : 'hidden'};\n`;\n\nconst StartMenuSidebar = styled.div`\n  width: 40px;\n  background: #000080;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  writing-mode: vertical-rl;\n  text-orientation: mixed;\n  color: white;\n  font-size: 12px;\n  font-weight: bold;\n  letter-spacing: 1px;\n`;\n\nconst StartMenuContent = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst StartMenuItem = styled.div`\n  padding: 8px 16px;\n  cursor: pointer;\n  font-size: 12px;\n  color: #000;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  \n  &:hover {\n    background: #000080;\n    color: white;\n  }\n`;\n\nconst MenuItemIcon = styled.img`\n  width: 16px;\n  height: 16px;\n  flex-shrink: 0;\n`;\n\nconst Clock = styled.div`\n  height: 28px;\n  min-width: 80px;\n  background: linear-gradient(to bottom, #e0e0e0 0%, #c0c0c0 100%);\n  border: 2px solid #ffffff;\n  border-right: 2px solid #808080;\n  border-bottom: 2px solid #808080;\n  border-left: 2px solid #ffffff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 11px;\n  color: #000;\n  font-weight: bold;\n  box-shadow: inset 1px 1px 0px rgba(255, 255, 255, 0.3);\n  margin-left: auto;\n`;\n\nconst BackgroundOverlay = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.2);\n  pointer-events: none;\n`;\n\nconst DesktopTitle = styled.div`\n  position: absolute;\n  top: 50px;\n  left: 50%;\n  transform: translateX(-50%);\n  font-size: 48px;\n  font-weight: bold;\n  color: white;\n  text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.8);\n  z-index: 1;\n  pointer-events: none;\n  \n  @media (max-width: 768px) {\n    font-size: 32px;\n    top: 20px;\n    padding: 0 20px;\n    text-align: center;\n    word-wrap: break-word;\n  }\n`;\n\nconst Desktop: React.FC = () => {\n  const [isStartMenuOpen, setIsStartMenuOpen] = useState(false);\n  const [currentTime, setCurrentTime] = useState('');\n  const [desktopState, setDesktopState] = useState<DesktopState>({\n          icons: [\n        {\n          id: 'music',\n          name: 'music',\n          type: 'folder',\n          position: { x: 30, y: 100 },\n          icon: '/icons/music.png',\n          color: '#007AFF'\n        },\n        {\n          id: 'the-archive',\n          name: 'ishv4ra',\n          type: 'folder',\n          position: { x: 30, y: 200 },\n          icon: '/icons/ishv4ra.png',\n          color: '#8B4513'\n        },\n        {\n          id: 'demos',\n          name: 'demos',\n          type: 'folder',\n          position: { x: 30, y: 300 },\n          icon: '/icons/demos.png',\n          color: '#9C27B0'\n        },\n        {\n          id: 'sculpter',\n          name: 'playday cuts',\n          type: 'folder',\n          position: { x: 30, y: 400 },\n          icon: '/icons/playdaycuts.png',\n          color: '#FF6B6B'\n        }\n      ],\n    windows: [],\n    activeWindowId: null,\n    background: 'dog-pattern'\n  });\n\n  // Effect to reposition icons for mobile on mount and resize\n  useEffect(() => {\n    const handleResize = () => {\n      if (window.innerWidth <= 768) {\n        // Reposition icons horizontally at the top for mobile\n        setDesktopState(prev => ({\n          ...prev,\n          icons: prev.icons.map((icon, index) => ({\n            ...icon,\n            position: { \n              x: 20 + (index * 100), // Space icons horizontally\n              y: 20 // Position at the top\n            }\n          }))\n        }));\n      } else {\n        // Reset to original vertical layout for desktop\n        setDesktopState(prev => ({\n          ...prev,\n          icons: [\n            { ...prev.icons[0], position: { x: 30, y: 100 } },\n            { ...prev.icons[1], position: { x: 30, y: 200 } },\n            { ...prev.icons[2], position: { x: 30, y: 300 } },\n            { ...prev.icons[3], position: { x: 30, y: 400 } }\n          ]\n        }));\n      }\n    };\n\n    // Set initial position\n    handleResize();\n\n    // Listen for resize events\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  const handleIconMove = useCallback((iconId: string, x: number, y: number) => {\n    setDesktopState(prev => {\n      const iconIndex = prev.icons.findIndex(icon => icon.id === iconId);\n      if (iconIndex === -1) return prev;\n      \n      const isMobile = window.innerWidth <= 768;\n      let constrainedX = x;\n      let constrainedY = y;\n      \n      if (isMobile) {\n        // On mobile, constrain icons to stay within screen bounds\n        const iconWidth = 100; // Approximate icon width\n        const iconHeight = 100; // Approximate icon height\n        const taskbarHeight = 50;\n        \n        constrainedX = Math.max(0, Math.min(x, window.innerWidth - iconWidth));\n        constrainedY = Math.max(0, Math.min(y, window.innerHeight - iconHeight - taskbarHeight));\n      }\n      \n      const newIcons = [...prev.icons];\n      newIcons[iconIndex] = {\n        ...newIcons[iconIndex],\n        position: { x: constrainedX, y: constrainedY }\n      };\n      \n      return {\n        ...prev,\n        icons: newIcons\n      };\n    });\n  }, []);\n\n  const handleOpenCollection = useCallback((collection: any) => {\n    // Find the first photo in the collection\n    const firstPhoto = photoData.find(photo => photo.collection === collection.id);\n    \n    if (firstPhoto) {\n      const newWindow: WindowType = {\n        id: `photo-${firstPhoto.id}`,\n        title: `${firstPhoto.name}`,\n        type: 'app',\n        position: { x: 200, y: 200 },\n        size: { width: 900, height: 700 },\n        isMinimized: false,\n        isMaximized: false,\n        isOpen: true,\n        zIndex: Date.now(),\n        content: <FullImageViewer \n          photo={firstPhoto} \n          onClose={() => handleWindowClose(`photo-${firstPhoto.id}`)}\n          onNavigate={(direction) => handlePhotoNavigate(firstPhoto, direction)}\n        />\n      };\n      \n      setDesktopState(prev => ({\n        ...prev,\n        windows: [...prev.windows, newWindow],\n        activeWindowId: newWindow.id\n      }));\n    }\n  }, []);\n\n  const handleOpenPhoto = useCallback((photo: any) => {\n    const newWindow: WindowType = {\n      id: `photo-${photo.id}`,\n      title: `${photo.name}`,\n      type: 'app',\n      position: { x: 200, y: 200 },\n      size: { width: 900, height: 700 },\n      isMinimized: false,\n      isMaximized: false,\n      isOpen: true,\n      zIndex: Date.now(),\n      content: <FullImageViewer \n        photo={photo} \n        onClose={() => handleWindowClose(`photo-${photo.id}`)}\n        onNavigate={(direction) => handlePhotoNavigate(photo, direction)}\n      />\n    };\n    \n    setDesktopState(prev => ({\n      ...prev,\n      windows: [...prev.windows, newWindow],\n      activeWindowId: newWindow.id\n    }));\n  }, []);\n\n  const handleOpenCredits = useCallback(() => {\n    const newWindow: WindowType = {\n      id: 'credits-window',\n      title: 'Origins',\n      type: 'app',\n      position: { x: 300, y: 200 },\n      size: { width: 400, height: 300 },\n      isMinimized: false,\n      isMaximized: false,\n      isOpen: true,\n      zIndex: Date.now(),\n      content: <CreditsWindow onClose={() => handleWindowClose('credits-window')} />\n    };\n    \n    setDesktopState(prev => ({\n      ...prev,\n      windows: [...prev.windows, newWindow],\n      activeWindowId: newWindow.id\n    }));\n  }, []);\n\n  const handlePhotoNavigate = useCallback((currentPhoto: any, direction: 'prev' | 'next') => {\n    // Find the next/previous photo in the same collection\n    const photos = photoData.filter(p => p.collection === currentPhoto.collection);\n    const currentIndex = photos.findIndex(p => p.id === currentPhoto.id);\n    let newIndex = direction === 'next' ? currentIndex + 1 : currentIndex - 1;\n    \n    // Wrap around\n    if (newIndex < 0) newIndex = photos.length - 1;\n    if (newIndex >= photos.length) newIndex = 0;\n    \n    const newPhoto = photos[newIndex];\n    \n    // Update the current photo window with the new photo\n    setDesktopState(prev => {\n      const newWindows = prev.windows.map(w => {\n        if (w.id === `photo-${currentPhoto.id}`) {\n          return {\n            ...w,\n            id: `photo-${newPhoto.id}`, // Update the window ID to match the new photo\n            title: `${newPhoto.name}`,\n            content: <FullImageViewer \n              photo={newPhoto} \n              onClose={() => handleWindowClose(`photo-${newPhoto.id}`)}\n              onNavigate={(dir) => handlePhotoNavigate(newPhoto, dir)}\n            />\n          };\n        }\n        return w;\n      });\n      \n      return {\n        ...prev,\n        windows: newWindows\n      };\n    });\n  }, []);\n\n  const handleIconClick = useCallback((icon: IconType) => {\n    // Check if app is already running\n    const existingWindow = desktopState.windows.find(window => \n      window.id.startsWith(`${icon.id}-`) || window.id === `window-${icon.id}`\n    );\n\n    if (existingWindow) {\n      // If app is already running, bring it to focus and unminimize if needed\n      if (existingWindow.isMinimized) {\n        setDesktopState(prev => ({\n          ...prev,\n          windows: prev.windows.map(w => \n            w.id === existingWindow.id ? { ...w, isMinimized: false } : w\n          ),\n          activeWindowId: existingWindow.id\n        }));\n      } else {\n        // Just bring to focus\n        setDesktopState(prev => ({\n          ...prev,\n          activeWindowId: existingWindow.id,\n          windows: prev.windows.map(w => ({\n            ...w,\n            zIndex: w.id === existingWindow.id ? Date.now() : w.zIndex\n          }))\n        }));\n      }\n      return;\n    }\n\n    if (icon.id === 'music') {\n      // Open music window\n      const isMobile = window.innerWidth <= 768;\n      const newWindow: WindowType = {\n        id: `music-${Date.now()}`,\n        title: 'Music',\n        type: 'app',\n        position: isMobile ? { x: 10, y: 10 } : { x: 150, y: 150 },\n        size: isMobile ? { width: window.innerWidth - 20, height: window.innerHeight - 100 } : { width: 600, height: 500 },\n        isMinimized: false,\n        isMaximized: false,\n        isOpen: true,\n        zIndex: Date.now(),\n        content: <MusicInterface />\n      };\n      \n      setDesktopState(prev => ({\n        ...prev,\n        windows: [...prev.windows, newWindow],\n        activeWindowId: newWindow.id\n      }));\n    } else if (icon.id === 'the-archive') {\n      // Open photo gallery for the Archive icon\n      const isMobile = window.innerWidth <= 768;\n      const newWindow: WindowType = {\n        id: `window-${icon.id}`,\n        title: 'ishv4ra',\n        type: 'app',\n        position: isMobile ? { x: 10, y: 10 } : { x: 100, y: 100 },\n        size: isMobile ? { width: window.innerWidth - 20, height: window.innerHeight - 100 } : { width: 1000, height: 700 },\n        isMinimized: false,\n        isMaximized: false,\n        isOpen: true,\n        zIndex: Date.now(),\n        content: <PhotoGallery onOpenCollection={handleOpenCollection} />\n      };\n      \n      setDesktopState(prev => ({\n        ...prev,\n        windows: [...prev.windows, newWindow],\n        activeWindowId: newWindow.id\n      }));\n    } else if (icon.id === 'demos') {\n      // Open demos player\n      const isMobile = window.innerWidth <= 768;\n      const newWindow: WindowType = {\n        id: `window-${icon.id}`,\n        title: icon.name,\n        type: 'app',\n        position: isMobile ? { x: 10, y: 10 } : { x: 100, y: 100 },\n        size: isMobile ? { width: window.innerWidth - 20, height: window.innerHeight - 100 } : { width: 800, height: 500 },\n        isMinimized: false,\n        isMaximized: false,\n        isOpen: true,\n        zIndex: Date.now(),\n        content: <DemosPlayer />\n      };\n      \n      setDesktopState(prev => ({\n        ...prev,\n        windows: [...prev.windows, newWindow],\n        activeWindowId: newWindow.id\n      }));\n    } else if (icon.id === 'sculpter') {\n      // Open appointment maker for playday cuts\n      const isMobile = window.innerWidth <= 768;\n      const newWindow: WindowType = {\n        id: `window-${icon.id}`,\n        title: icon.name,\n        type: 'app',\n        position: isMobile ? { x: 10, y: 10 } : { x: 200, y: 150 },\n        size: isMobile ? { width: window.innerWidth - 20, height: window.innerHeight - 100 } : { width: 500, height: 600 },\n        isMinimized: false,\n        isMaximized: false,\n        isOpen: true,\n        zIndex: Date.now(),\n        content: <AppointmentMaker onClose={() => handleWindowClose(`window-${icon.id}`)} />\n      };\n      \n      setDesktopState(prev => ({\n        ...prev,\n        windows: [...prev.windows, newWindow],\n        activeWindowId: newWindow.id\n      }));\n    } else if (icon.type === 'folder') {\n      // Open folder window with custom content\n      const newWindow: WindowType = {\n        id: `window-${icon.id}`,\n        title: icon.name,\n        type: 'folder',\n        position: { x: 100, y: 100 },\n        size: { width: 600, height: 400 },\n        isMinimized: false,\n        isMaximized: false,\n        isOpen: true,\n        zIndex: Date.now(),\n        content: <FolderContent folderId={icon.id} folderName={icon.name} />\n      };\n      \n      setDesktopState(prev => ({\n        ...prev,\n        windows: [...prev.windows, newWindow],\n        activeWindowId: newWindow.id\n      }));\n    } else if (icon.type === 'app') {\n      // Open app window\n      const newWindow: WindowType = {\n        id: `window-${icon.id}`,\n        title: icon.name,\n        type: 'app',\n        position: { x: 150, y: 150 },\n        size: { width: 800, height: 600 },\n        isMinimized: false,\n        isMaximized: false,\n        isOpen: true,\n        zIndex: Date.now(),\n        content: <div>Welcome to {icon.name}!</div>\n      };\n      \n      setDesktopState(prev => ({\n        ...prev,\n        windows: [...prev.windows, newWindow],\n        activeWindowId: newWindow.id\n      }));\n    }\n  }, [desktopState.windows]);\n\n  const handleWindowClose = useCallback((windowId: string) => {\n    setDesktopState(prev => ({\n      ...prev,\n      windows: prev.windows.filter(w => w.id !== windowId),\n      activeWindowId: prev.activeWindowId === windowId ? null : prev.activeWindowId\n    }));\n  }, []);\n\n  const handleWindowMinimize = useCallback((windowId: string) => {\n    setDesktopState(prev => ({\n      ...prev,\n      windows: prev.windows.map(w => \n        w.id === windowId ? { ...w, isMinimized: !w.isMinimized } : w\n      )\n    }));\n  }, []);\n\n  const handleWindowMaximize = useCallback((windowId: string) => {\n    setDesktopState(prev => ({\n      ...prev,\n      windows: prev.windows.map(w => \n        w.id === windowId ? { ...w, isMaximized: !w.isMaximized } : w\n      )\n    }));\n  }, []);\n\n  const handleWindowMove = useCallback((windowId: string, x: number, y: number) => {\n    // Use functional update to avoid stale state issues\n    setDesktopState(prev => {\n      const windowIndex = prev.windows.findIndex(w => w.id === windowId);\n      if (windowIndex === -1) return prev;\n      \n      const newWindows = [...prev.windows];\n      newWindows[windowIndex] = {\n        ...newWindows[windowIndex],\n        position: { x, y }\n      };\n      \n      return {\n        ...prev,\n        windows: newWindows\n      };\n    });\n  }, []);\n\n  const handleWindowResize = useCallback((windowId: string, width: number, height: number) => {\n    setDesktopState(prev => ({\n      ...prev,\n      windows: prev.windows.map(w => \n        w.id === windowId ? { ...w, size: { width, height } } : w\n      )\n    }));\n  }, []);\n\n  const handleDesktopClick = useCallback((e: React.MouseEvent) => {\n    // Don't close menu if clicking on start button or start menu\n    if (e.target instanceof HTMLElement) {\n      if (e.target.closest('[data-start-button]') || e.target.closest('[data-start-menu]')) {\n        return;\n      }\n    }\n    setIsStartMenuOpen(false);\n  }, []);\n\n  // Update time every second\n  useEffect(() => {\n    const updateTime = () => {\n      const now = new Date();\n      const formatter = new Intl.DateTimeFormat('en-US', {\n        timeZone: 'America/Denver',\n        hour: '2-digit',\n        minute: '2-digit',\n        hour12: false\n      });\n      \n      const mountainTime = formatter.format(now);\n      setCurrentTime(`${mountainTime} MST`);\n    };\n\n    updateTime(); // Update immediately\n    const interval = setInterval(updateTime, 1000); // Update every second\n\n    return () => clearInterval(interval);\n  }, []);\n\n  return (\n    <DesktopContainer onClick={handleDesktopClick}>\n      <>\n        <BackgroundOverlay />\n      \n      {/* Desktop Icons */}\n      {desktopState.icons.map(icon => (\n        <Icon\n          key={icon.id}\n          icon={icon}\n          onClick={() => handleIconClick(icon)}\n          onMove={handleIconMove}\n          isSelected={false}\n        />\n      ))}\n      \n      {/* Windows */}\n      {desktopState.windows.map(window => (\n        <Window\n          key={window.id}\n          window={window}\n          onClose={handleWindowClose}\n          onMinimize={handleWindowMinimize}\n          onMaximize={handleWindowMaximize}\n          onMove={handleWindowMove}\n          onResize={handleWindowResize}\n          onFocus={(windowId) => {\n            setDesktopState(prev => ({\n              ...prev,\n              activeWindowId: windowId,\n              windows: prev.windows.map(w => ({\n                ...w,\n                zIndex: w.id === windowId ? Date.now() : w.zIndex\n              }))\n            }));\n          }}\n        >\n          {window.content}\n        </Window>\n      ))}\n\n      {/* Taskbar */}\n      <Taskbar>\n        <StartButton \n          data-start-button\n          onClick={() => {\n            console.log('Start button clicked, current state:', isStartMenuOpen);\n            setIsStartMenuOpen(!isStartMenuOpen);\n          }}\n        >\n          <img \n            src=\"/icons/startmenu.png\" \n            alt=\"Start\" \n            style={{ \n              width: '16px', \n              height: '16px',\n              imageRendering: 'pixelated'\n            }} \n          />\n          <span style={{ \n            color: 'white', \n            fontWeight: 'bold', \n            fontSize: '12px',\n            textShadow: '1px 1px 1px rgba(0, 0, 0, 0.5)'\n          }}>\n            Start\n          </span>\n        </StartButton>\n        \n        <TaskbarItems>\n          {desktopState.windows\n            .filter(window => !window.isMinimized)\n            .map(window => {\n              // Get the icon for this window type\n              let iconSrc = '';\n              if (window.id.startsWith('music-')) {\n                iconSrc = '/icons/music.png';\n              } else if (window.id === 'window-the-archive') {\n                iconSrc = '/icons/ishv4ra.png';\n              } else if (window.id === 'window-demos') {\n                iconSrc = '/icons/demos.png';\n              } else if (window.id === 'window-sculpter') {\n                iconSrc = '/icons/playdaycuts.png';\n              }\n              \n              return (\n                <TaskbarItem\n                  key={window.id}\n                  isActive={desktopState.activeWindowId === window.id}\n                  onClick={() => {\n                    setDesktopState(prev => ({\n                      ...prev,\n                      activeWindowId: window.id,\n                      windows: prev.windows.map(w => {\n                        if (w.id === window.id) {\n                          return {\n                            ...w,\n                            zIndex: Date.now(),\n                            isMinimized: false // Ensure window is not minimized\n                          };\n                        }\n                        return w;\n                      })\n                    }));\n                  }}\n                >\n                  {iconSrc && <TaskbarIcon src={iconSrc} alt=\"\" />}\n                  {window.title}\n                </TaskbarItem>\n              );\n            })}\n        </TaskbarItems>\n        \n        <Clock>\n          {currentTime}\n        </Clock>\n      </Taskbar>\n\n      {/* Start Menu */}\n      {console.log('Rendering StartMenu with isOpen:', isStartMenuOpen)}\n      <StartMenu isOpen={isStartMenuOpen} data-start-menu>\n        <StartMenuSidebar>\n          start menu\n        </StartMenuSidebar>\n        <StartMenuContent>\n          <StartMenuItem \n            onClick={() => {\n              window.open('https://www.instagram.com/juan.zhingre/', '_blank');\n              setIsStartMenuOpen(false);\n            }}\n          >\n            <MenuItemIcon src=\"/icons/instagram.png\" alt=\"Instagram\" />\n            juan.zhingre\n          </StartMenuItem>\n          <StartMenuItem \n            onClick={() => {\n              window.open('https://www.instagram.com/ishv4ra/', '_blank');\n              setIsStartMenuOpen(false);\n            }}\n          >\n            <MenuItemIcon src=\"/icons/instagram.png\" alt=\"Instagram\" />\n            ishv4ra\n          </StartMenuItem>\n          <div style={{ height: '1px', background: '#808080', margin: '2px 0' }}></div>\n          <StartMenuItem onClick={() => {\n            handleOpenCredits();\n            setIsStartMenuOpen(false);\n          }}>\n            Origins\n          </StartMenuItem>\n          <div style={{ height: '1px', background: '#808080', margin: '2px 0' }}></div>\n          <StartMenuItem onClick={() => {\n            setIsStartMenuOpen(false);\n            window.close();\n          }}>\n            <MenuItemIcon src=\"/icons/startmenu.png\" alt=\"Shutdown\" />\n            Shut Down...\n          </StartMenuItem>\n        </StartMenuContent>\n      </StartMenu>\n      </>\n    </DesktopContainer>\n  );\n};\n\nexport default Desktop;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,WAAW,EAAEC,SAAS,QAAQ,OAAO;AAC/D,OAAOC,MAAM,MAAM,mBAAmB;AACtC,OAAOC,IAAI,MAAM,cAAc;AAC/B,OAAOC,MAAM,MAAM,kBAAkB;AACrC,OAAOC,cAAc,MAAM,0BAA0B;AACrD,OAAOC,YAAY,MAAM,wBAAwB;AAEjD,OAAOC,eAAe,MAAM,2BAA2B;AACvD,OAAOC,aAAa,MAAM,yBAAyB;AACnD,OAAOC,WAAW,MAAM,uBAAuB;AAC/C,OAAOC,aAAa,MAAM,yBAAyB;AACnD,OAAOC,gBAAgB,MAAM,4BAA4B;AAEzD,SAASC,SAAS,QAAQ,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE9C,MAAMC,gBAAgB,GAAGf,MAAM,CAACgB,GAAG;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,EAAA,GAfIF,gBAAgB;AAiBtB,MAAMG,OAAO,GAAGlB,MAAM,CAACgB,GAAG;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACG,GAAA,GArBID,OAAO;AAuBb,MAAME,WAAW,GAAGpB,MAAM,CAACqB,MAAM;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAhCIF,WAAW;AAkCjB,MAAMG,YAAY,GAAGvB,MAAM,CAACgB,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACQ,GAAA,GAhBID,YAAY;AAkBlB,MAAME,WAAW,GAAGzB,MAAM,CAACgB,GAA0B;AACrD;AACA;AACA,gBAAgBU,KAAK,IAAIA,KAAK,CAACC,QAAQ,GACjC,sDAAsD,GACtD,sDAAsD;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBACgBD,KAAK,IAAIA,KAAK,CAACC,QAAQ,GACjC,sCAAsC,GACtC,4CAA4C;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CACC;AAACC,GAAA,GAjCIH,WAAW;AAmCjB,MAAMI,WAAW,GAAG7B,MAAM,CAAC8B,GAAG;AAC9B;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GALIF,WAAW;AAOjB,MAAMG,SAAS,GAAGhC,MAAM,CAACgB,GAAwB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAaU,KAAK,IAAIA,KAAK,CAACO,MAAM,GAAG,MAAM,GAAG,MAAM;AACpD,gBAAgBP,KAAK,IAAIA,KAAK,CAACO,MAAM,GAAG,SAAS,GAAG,QAAQ;AAC5D,CAAC;AAACC,GAAA,GAdIF,SAAS;AAgBf,MAAMG,gBAAgB,GAAGnC,MAAM,CAACgB,GAAG;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACoB,GAAA,GAZID,gBAAgB;AActB,MAAME,gBAAgB,GAAGrC,MAAM,CAACgB,GAAG;AACnC;AACA;AACA;AACA,CAAC;AAACsB,GAAA,GAJID,gBAAgB;AAMtB,MAAME,aAAa,GAAGvC,MAAM,CAACgB,GAAG;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACwB,GAAA,GAbID,aAAa;AAenB,MAAME,YAAY,GAAGzC,MAAM,CAAC8B,GAAG;AAC/B;AACA;AACA;AACA,CAAC;AAACY,GAAA,GAJID,YAAY;AAMlB,MAAME,KAAK,GAAG3C,MAAM,CAACgB,GAAG;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC4B,IAAA,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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}